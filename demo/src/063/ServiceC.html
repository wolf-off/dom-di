<script>
  class ServiceCControl extends diObjectMixin(HTMLElement) {
    constructor() {
      super();

      this.typeName = 'service-c';
      this.dependencies = ['service-b'];
      this.diReady = (serviceB) => {
        this.serviceB = serviceB;
        return this;
      }

      var root = this.attachShadow({ mode: 'open' })
      root.innerHTML = `
      <style>
        :host {
          display: block;
          border: solid black 1px;
          background: aquamarine;
          margin: 5px;
        }
      </style>
      <div>
        <div>
          Service C control
        </div>
        <slot></slot>
      </div>`;
      const event = new CustomEvent('dom-di-instance', {
        detail: { instance: this, type: 'service-c' },
        bubbles: true,
        cancelable: true,
        composed: true
      });
      this.dispatchEvent(event);
    }

    sayHello() {
      return 'C knows that B sais: ' + this.serviceB.sayHello();
    }
  }
  window.customElements.define('service-c-control', ServiceCControl);
</script>